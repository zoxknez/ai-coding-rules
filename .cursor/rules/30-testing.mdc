---
description: "USE WHEN: adding or changing behavior. Test-first loop."
globs: ["**/*"]
alwaysApply: true
priority: 70
---

# Testing Rules

## Test-First Loop
1. Write failing test
2. Implement until green
3. Refactor (tests stay green)

## Verification
- Run lint → typecheck → tests
- State what’s not run and why

## Guard Clauses
- Prefer early returns to reduce nesting and complexity
